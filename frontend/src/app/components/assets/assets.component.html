<table *ngIf="assets.length > 0" class="portfolio-table">
  <thead>
    <tr>
      <th>Ticker</th>
      <th>Type</th>
      <th>Quantity</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let a of assets">
      <td>{{ a.ticker }}</td>
      <td>{{ a.asset_type }}</td>
      <td>{{ a.quantity }}</td>
    </tr>
  </tbody>
</table>

<div *ngIf="allocation.length">
  <h3>Allocation by Asset Type</h3>
  <div class="pie-chart" [style.background]="pieGradient"></div>
  <ul class="legend">
    <li *ngFor="let a of allocation; let i = index">
      <span
        class="color-box"
        [style.background]="colors[i % colors.length]"
      ></span>
      {{ a.asset_type }} ({{ a.percent }}%)
    </li>
  </ul>
</div>

<form (ngSubmit)="buyAsset()" #buyForm="ngForm" class="buy-form">
  <h3>Buy New Asset</h3>
  <div>
    <label for="ticker">Ticker</label>
    <input
      id="ticker"
      name="ticker"
      type="text"
      required
      [(ngModel)]="newAsset.ticker"
    />
  </div>
  <div>
    <label for="assetType">Type</label>
    <input
      id="assetType"
      name="asset_type"
      type="text"
      required
      [(ngModel)]="newAsset.asset_type"
    />
  </div>
  <div>
    <label for="quantity">Quantity</label>
    <input
      id="quantity"
      name="quantity"
      type="number"
      required
      [(ngModel)]="newAsset.quantity"
    />
  </div>
  <button type="submit" [disabled]="buyForm.invalid">Buy</button>
</form>
